{
    "id": "65",
    "question": {
        "questionId": "65",
        "questionFrontendId": "65",
        "boundTopicId": null,
        "title": "Valid Number",
        "titleSlug": "valid-number",
        "content": "<p>A <strong>valid number</strong> can be split up into these components (in order):</p>\n\n<ol>\n\t<li>A <strong>decimal number</strong> or an <strong>integer</strong>.</li>\n\t<li>(Optional) An <code>&#39;e&#39;</code> or <code>&#39;E&#39;</code>, followed by an <strong>integer</strong>.</li>\n</ol>\n\n<p>A <strong>decimal number</strong> can be split up into these components (in order):</p>\n\n<ol>\n\t<li>(Optional) A sign character (either <code>&#39;+&#39;</code> or <code>&#39;-&#39;</code>).</li>\n\t<li>One of the following formats:\n\t<ol>\n\t\t<li>One or more digits, followed by a dot <code>&#39;.&#39;</code>.</li>\n\t\t<li>One or more digits, followed by a dot <code>&#39;.&#39;</code>, followed by one or more digits.</li>\n\t\t<li>A dot <code>&#39;.&#39;</code>, followed by one or more digits.</li>\n\t</ol>\n\t</li>\n</ol>\n\n<p>An <strong>integer</strong> can be split up into these components (in order):</p>\n\n<ol>\n\t<li>(Optional) A sign character (either <code>&#39;+&#39;</code> or <code>&#39;-&#39;</code>).</li>\n\t<li>One or more digits.</li>\n</ol>\n\n<p>For example, all the following are valid numbers: <code>[&quot;2&quot;, &quot;0089&quot;, &quot;-0.1&quot;, &quot;+3.14&quot;, &quot;4.&quot;, &quot;-.9&quot;, &quot;2e10&quot;, &quot;-90E3&quot;, &quot;3e+7&quot;, &quot;+6e-1&quot;, &quot;53.5e93&quot;, &quot;-123.456e789&quot;]</code>, while the following are not valid numbers: <code>[&quot;abc&quot;, &quot;1a&quot;, &quot;1e&quot;, &quot;e3&quot;, &quot;99e2.5&quot;, &quot;--6&quot;, &quot;-+3&quot;, &quot;95a54e53&quot;]</code>.</p>\n\n<p>Given a string <code>s</code>, return <code>true</code><em> if </em><code>s</code><em> is a <strong>valid number</strong></em>.</p>\n\n<p>&nbsp;</p>\n<p><strong>Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;0&quot;\n<strong>Output:</strong> true\n</pre>\n\n<p><strong>Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;e&quot;\n<strong>Output:</strong> false\n</pre>\n\n<p><strong>Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;.&quot;\n<strong>Output:</strong> false\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= s.length &lt;= 20</code></li>\n\t<li><code>s</code> consists of only English letters (both uppercase and lowercase), digits (<code>0-9</code>), plus <code>&#39;+&#39;</code>, minus <code>&#39;-&#39;</code>, or dot <code>&#39;.&#39;</code>.</li>\n</ul>\n",
        "translatedTitle": null,
        "translatedContent": null,
        "isPaidOnly": false,
        "difficulty": "Hard",
        "likes": 653,
        "dislikes": 1180,
        "isLiked": null,
        "similarQuestions": "[{\"title\": \"String to Integer (atoi)\", \"titleSlug\": \"string-to-integer-atoi\", \"difficulty\": \"Medium\", \"translatedTitle\": null}]",
        "exampleTestcases": "\"0\"\n\"e\"\n\".\"",
        "categoryTitle": "Algorithms",
        "contributors": [],
        "topicTags": [
            {
                "name": "String",
                "slug": "string",
                "translatedName": null,
                "__typename": "TopicTagNode"
            }
        ],
        "companyTagStats": "{\"1\": [{\"taggedByAdmin\": false, \"name\": \"Facebook\", \"slug\": \"facebook\", \"timesEncountered\": 47}, {\"taggedByAdmin\": true, \"name\": \"LinkedIn\", \"slug\": \"linkedin\", \"timesEncountered\": 11}], \"3\": [{\"taggedByAdmin\": false, \"name\": \"Oracle\", \"slug\": \"oracle\", \"timesEncountered\": 3}], \"2\": [{\"taggedByAdmin\": false, \"name\": \"Amazon\", \"slug\": \"amazon\", \"timesEncountered\": 2}, {\"taggedByAdmin\": false, \"name\": \"Twitch\", \"slug\": \"twitch\", \"timesEncountered\": 2}]}",
        "codeSnippets": [
            {
                "lang": "C++",
                "langSlug": "cpp",
                "code": "class Solution {\npublic:\n    bool isNumber(string s) {\n        \n    }\n};",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Java",
                "langSlug": "java",
                "code": "class Solution {\n    public boolean isNumber(String s) {\n        \n    }\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Python",
                "langSlug": "python",
                "code": "class Solution(object):\n    def isNumber(self, s):\n        \"\"\"\n        :type s: str\n        :rtype: bool\n        \"\"\"\n        ",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Python3",
                "langSlug": "python3",
                "code": "class Solution:\n    def isNumber(self, s: str) -> bool:\n        ",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "C",
                "langSlug": "c",
                "code": "\n\nbool isNumber(char * s){\n\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "C#",
                "langSlug": "csharp",
                "code": "public class Solution {\n    public bool IsNumber(string s) {\n        \n    }\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "JavaScript",
                "langSlug": "javascript",
                "code": "/**\n * @param {string} s\n * @return {boolean}\n */\nvar isNumber = function(s) {\n    \n};",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Ruby",
                "langSlug": "ruby",
                "code": "# @param {String} s\n# @return {Boolean}\ndef is_number(s)\n    \nend",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Swift",
                "langSlug": "swift",
                "code": "class Solution {\n    func isNumber(_ s: String) -> Bool {\n        \n    }\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Go",
                "langSlug": "golang",
                "code": "func isNumber(s string) bool {\n    \n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Scala",
                "langSlug": "scala",
                "code": "object Solution {\n    def isNumber(s: String): Boolean = {\n        \n    }\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Kotlin",
                "langSlug": "kotlin",
                "code": "class Solution {\n    fun isNumber(s: String): Boolean {\n        \n    }\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Rust",
                "langSlug": "rust",
                "code": "impl Solution {\n    pub fn is_number(s: String) -> bool {\n        \n    }\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "PHP",
                "langSlug": "php",
                "code": "class Solution {\n\n    /**\n     * @param String $s\n     * @return Boolean\n     */\n    function isNumber($s) {\n        \n    }\n}",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "TypeScript",
                "langSlug": "typescript",
                "code": "function isNumber(s: string): boolean {\n\n};",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Racket",
                "langSlug": "racket",
                "code": "(define/contract (is-number s)\n  (-> string? boolean?)\n\n  )",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Erlang",
                "langSlug": "erlang",
                "code": "-spec is_number(S :: unicode:unicode_binary()) -> boolean().\nis_number(S) ->\n  .",
                "__typename": "CodeSnippetNode"
            },
            {
                "lang": "Elixir",
                "langSlug": "elixir",
                "code": "defmodule Solution do\n  @spec is_number(s :: String.t) :: boolean\n  def is_number(s) do\n\n  end\nend",
                "__typename": "CodeSnippetNode"
            }
        ],
        "stats": "{\"totalAccepted\": \"280.4K\", \"totalSubmission\": \"1.5M\", \"totalAcceptedRaw\": 280419, \"totalSubmissionRaw\": 1526011, \"acRate\": \"18.4%\"}",
        "hints": [],
        "solution": {
            "id": "1133",
            "canSeeDetail": true,
            "paidOnly": true,
            "hasVideoSolution": false,
            "paidOnlyVideo": true,
            "__typename": "ArticleNode"
        },
        "status": null,
        "sampleTestCase": "\"0\"",
        "metaData": "{ \r\n  \"name\": \"isNumber\",\r\n  \"params\": [\r\n    { \r\n      \"name\": \"s\",\r\n      \"type\": \"string\"\r\n    }\r\n  ],\r\n  \"return\": {\r\n    \"type\": \"boolean\"\r\n  }\r\n}",
        "judgerAvailable": true,
        "judgeType": "large",
        "mysqlSchemas": [],
        "enableRunCode": true,
        "enableTestMode": false,
        "enableDebugger": true,
        "envInfo": "{\"cpp\": [\"C++\", \"<p>Compiled with <code> clang 11 </code> using the latest C++ 17 standard.</p>\\r\\n\\r\\n<p>Your code is compiled with level two optimization (<code>-O2</code>). <a href=\\\"https://github.com/google/sanitizers/wiki/AddressSanitizer\\\" target=\\\"_blank\\\">AddressSanitizer</a> is also enabled to help detect out-of-bounds and use-after-free bugs.</p>\\r\\n\\r\\n<p>Most standard library headers are already included automatically for your convenience.</p>\"], \"java\": [\"Java\", \"<p><code> OpenJDK 17 </code>. Java 8 features such as lambda expressions and stream API can be used. </p>\\r\\n\\r\\n<p>Most standard library headers are already included automatically for your convenience.</p>\\r\\n<p>Includes <code>Pair</code> class from https://docs.oracle.com/javase/8/javafx/api/javafx/util/Pair.html.</p>\"], \"python\": [\"Python\", \"<p><code>Python 2.7.12</code>.</p>\\r\\n\\r\\n<p>Most libraries are already imported automatically for your convenience, such as <a href=\\\"https://docs.python.org/2/library/array.html\\\" target=\\\"_blank\\\">array</a>, <a href=\\\"https://docs.python.org/2/library/bisect.html\\\" target=\\\"_blank\\\">bisect</a>, <a href=\\\"https://docs.python.org/2/library/collections.html\\\" target=\\\"_blank\\\">collections</a>. If you need more libraries, you can import it yourself.</p>\\r\\n\\r\\n<p>For Map/TreeMap data structure, you may use <a href=\\\"http://www.grantjenks.com/docs/sortedcontainers/\\\" target=\\\"_blank\\\">sortedcontainers</a> library.</p>\\r\\n\\r\\n<p>Note that Python 2.7 <a href=\\\"https://www.python.org/dev/peps/pep-0373/\\\" target=\\\"_blank\\\">will not be maintained past 2020</a>. For the latest Python, please choose Python3 instead.</p>\"], \"c\": [\"C\", \"<p>Compiled with <code>gcc 8.2</code> using the gnu11 standard.</p>\\r\\n\\r\\n<p>Your code is compiled with level one optimization (<code>-O1</code>). <a href=\\\"https://github.com/google/sanitizers/wiki/AddressSanitizer\\\" target=\\\"_blank\\\">AddressSanitizer</a> is also enabled to help detect out-of-bounds and use-after-free bugs.</p>\\r\\n\\r\\n<p>Most standard library headers are already included automatically for your convenience.</p>\\r\\n\\r\\n<p>For hash table operations, you may use <a href=\\\"https://troydhanson.github.io/uthash/\\\" target=\\\"_blank\\\">uthash</a>. \\\"uthash.h\\\" is included by default. Below are some examples:</p>\\r\\n\\r\\n<p><b>1. Adding an item to a hash.</b>\\r\\n<pre>\\r\\nstruct hash_entry {\\r\\n    int id;            /* we'll use this field as the key */\\r\\n    char name[10];\\r\\n    UT_hash_handle hh; /* makes this structure hashable */\\r\\n};\\r\\n\\r\\nstruct hash_entry *users = NULL;\\r\\n\\r\\nvoid add_user(struct hash_entry *s) {\\r\\n    HASH_ADD_INT(users, id, s);\\r\\n}\\r\\n</pre>\\r\\n</p>\\r\\n\\r\\n<p><b>2. Looking up an item in a hash:</b>\\r\\n<pre>\\r\\nstruct hash_entry *find_user(int user_id) {\\r\\n    struct hash_entry *s;\\r\\n    HASH_FIND_INT(users, &user_id, s);\\r\\n    return s;\\r\\n}\\r\\n</pre>\\r\\n</p>\\r\\n\\r\\n<p><b>3. Deleting an item in a hash:</b>\\r\\n<pre>\\r\\nvoid delete_user(struct hash_entry *user) {\\r\\n    HASH_DEL(users, user);  \\r\\n}\\r\\n</pre>\\r\\n</p>\"], \"csharp\": [\"C#\", \"<p><a href=\\\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9\\\" target=\\\"_blank\\\">C# 10 with .NET 6 runtime</a></p>\"], \"javascript\": [\"JavaScript\", \"<p><code>Node.js 16.13.2</code>.</p>\\r\\n\\r\\n<p>Your code is run with <code>--harmony</code> flag, enabling <a href=\\\"http://node.green/\\\" target=\\\"_blank\\\">new ES6 features</a>.</p>\\r\\n\\r\\n<p><a href=\\\"https://lodash.com\\\" target=\\\"_blank\\\">lodash.js</a> library is included by default.</p>\\r\\n\\r\\n<p>For Priority Queue / Queue data structures, you may use <a href=\\\"https://github.com/datastructures-js/priority-queue\\\" target=\\\"_blank\\\">datastructures-js/priority-queue</a> and <a href=\\\"https://github.com/datastructures-js/queue\\\" target=\\\"_blank\\\">datastructures-js/queue</a>.</p>\"], \"ruby\": [\"Ruby\", \"<p><code>Ruby 3.1</code></p>\\r\\n\\r\\n<p>Some common data structure implementations are provided in the Algorithms module: https://www.rubydoc.info/github/kanwei/algorithms/Algorithms</p>\"], \"swift\": [\"Swift\", \"<p><code>Swift 5.5.2</code>.</p>\"], \"golang\": [\"Go\", \"<p><code>Go 1.17.6</code>.</p>\\r\\n\\r\\n<p>Support <a href=\\\"https://godoc.org/github.com/emirpasic/gods\\\" target=\\\"_blank\\\">https://godoc.org/github.com/emirpasic/gods</a> library.</p>\"], \"python3\": [\"Python3\", \"<p><code>Python 3.10</code>.</p>\\r\\n\\r\\n<p>Most libraries are already imported automatically for your convenience, such as <a href=\\\"https://docs.python.org/3/library/array.html\\\" target=\\\"_blank\\\">array</a>, <a href=\\\"https://docs.python.org/3/library/bisect.html\\\" target=\\\"_blank\\\">bisect</a>, <a href=\\\"https://docs.python.org/3/library/collections.html\\\" target=\\\"_blank\\\">collections</a>. If you need more libraries, you can import it yourself.</p>\\r\\n\\r\\n<p>For Map/TreeMap data structure, you may use <a href=\\\"http://www.grantjenks.com/docs/sortedcontainers/\\\" target=\\\"_blank\\\">sortedcontainers</a> library.</p>\"], \"scala\": [\"Scala\", \"<p><code>Scala 2.13.7</code>.</p>\"], \"kotlin\": [\"Kotlin\", \"<p><code>Kotlin 1.3.10</code>.</p>\"], \"rust\": [\"Rust\", \"<p><code>Rust 1.58.1</code></p>\\r\\n\\r\\n<p>Supports <a href=\\\"https://crates.io/crates/rand\\\" target=\\\"_blank\\\">rand </a> v0.6\\u00a0from crates.io</p>\"], \"php\": [\"PHP\", \"<p><code>PHP 8.1</code>.</p>\\r\\n<p>With bcmath module</p>\"], \"typescript\": [\"Typescript\", \"<p><code>TypeScript 4.5.4, Node.js 16.13.2</code>.</p>\\r\\n\\r\\n<p>Your code is run with <code>--harmony</code> flag, enabling <a href=\\\"http://node.green/\\\" target=\\\"_blank\\\">new ES2020 features</a>.</p>\\r\\n\\r\\n<p><a href=\\\"https://lodash.com\\\" target=\\\"_blank\\\">lodash.js</a> library is included by default.</p>\"], \"racket\": [\"Racket\", \"<p>Run with <code>Racket 8.3</code>.</p>\"], \"erlang\": [\"Erlang\", \"Erlang/OTP 24.2\"], \"elixir\": [\"Elixir\", \"Elixir 1.13.0 with Erlang/OTP 24.2\"]}",
        "libraryUrl": null,
        "adminUrl": null,
        "challengeQuestion": null,
        "__typename": "QuestionNode"
    },
    "solution": {
        "id": "1133",
        "content": "[TOC]\n\n## Solution\n\n--- \n\n#### Overview\n\nYou're browsing through LeetCode's problems and notice a problem marked as hard with a 16% acceptance rate, the lowest you've ever seen. What could it be? 4D Dynamic Programming + binary search? An esoteric graph algorithm with a name you can't pronounce?\n\nActually, it's \"determine if a string is a number\". What gives? In my opinion, the reason this problem is so \"difficult\" isn't necessarily because it is **super** hard. I think it's just really hard to approach the problem in a way that covers *all* possible edge cases - something this problem definitely does not lack. Additionally, this is not your typical LeetCode problem, but a problem that is highly representative of a \"real world\" problem - a seemingly simple task that is frustratingly full of edge cases.\n\nDon't feel discouraged if you're struggling with this problem. When we solve a lot of problems, we discover common patterns, algorithms, and neat tricks that stick with us. We can then apply this knowledge to solve similar problems in the future. The issue with this problem is that there isn't really any other problem on LeetCode that prepares you for it. The key to solving this problem is to carefully read the problem statement, think about edge cases, and keep your code ***simple***.  \n\n> **Interview Tip:** Asked a question like this in an interview? Be sure to communicate thoroughly with your interviewer to make sure you're covering all cases.\n\n</br>\n\n---\n\n#### Approach 1: Follow The Rules!\n\n**Intuition**\n\nThe problem statement outlines a very specific set of rules. Let's put all possible characters into groups, and then create a set of rules for each group. Then, we can iterate through the input and evaluate if the characters are following the rules or not.\n\nWhat are all of the possible character groups, and what can we say about them? Reading through the problem statement **very carefully**, we can ascertain:\n\n1. Digits (one of `[\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]`)\n    - Both **decimal numbers** and **integers** must contain at least one digit.\n\n2. A sign (`\"+\"` or `\"-\"`)\n    - Sign characters are optional for both **decimal numbers** and **integers**, but if one is present, it will always be the first character. Note, this means that a sign character can also appear immediately after an exponent.\n\n3. An exponent (`\"e\"` or `\"E\"`)\n    - Exponents are also optional, but if the string contains one then it must be after a **decimal number** or an **integer**.\n    - An **integer** must follow the exponent.\n\n4. A dot (`\".\"`)\n    - A **decimal number** should only contain one dot. **Integers** cannot contain dots.\n\n5. Anything else\n    - There will never be anything else in a *valid number*.\n\nFrom these facts, we can logically determine a set of rules to follow in our algorithm.\n\n**Rules**\n\n1. Digits\n    - First of all, there must always be at least one digit in the input for it to form a valid number. Let's use a variable `seenDigit` to indicate whether we have seen a digit yet.\n\n2. Signs\n    - If a sign is present, it must be the first character in a **decimal number** or **integer**. In a valid number, there are two possible locations for these signs - at the front of the number, or right after an exponent (`\"e\"` or `\"E\"`) e.g., `-63e+7`. Therefore, if we see a sign, and it is not the first character of the input, and does not come immediately after an exponent (`\"e\"` or `\"E\"`), then we know the number is not valid.\n\n3. Exponents (`\"e\"` or `\"E\"`)\n    - There cannot be more than one exponent in a *valid number*, so we will use a variable `seenExponent` to indicate whether we have already seen an exponent.\n    - An exponent must appear after a **decimal number** or an **integer**. This means if we see an exponent, we must have already seen a digit.\n\n4. Dots\n    - There cannot be more than one dot in a *valid number*, since only **integers** are allowed after an exponent, so there cannot be more than one **decimal number**. We will use a variable `seenDot` to indicate whether we have seen a dot.\n    - If we see a dot appear after an exponent, the number is not valid, because **integers** cannot have dots.\n\n5. Anything else\n    - Seeing anything else instantly invalidates the input.\n\n**Algorithm**\n\nNow that we have laid out the rules, let's iterate over the input. For each character, determine what group it belongs to, and verify that it follows the rules.\n\n1. Declare 3 variables `seenDigit`, `seenExponent`, and `seenDot`. Set all of them to `false`.\n\n2. Iterate over the input.\n\n3. If the character is a digit, set `seenDigit = true`.\n\n4. If the character is a sign, check if it is either the first character of the input, or if the character before it is an exponent. If not, `return false`.\n\n5. If the character is an exponent, first check if we have already seen an exponent **or** if we have not yet seen a digit. If either is true, then `return false`. Otherwise, set `seenExponent = true`, and `seenDigit = false`. We need to reset `seenDigit` because after an exponent, we must construct a new **integer**.\n\n6. If the character is a dot, first check if we have already seen either a dot or an exponent. If so, `return false`. Otherwise, set `seenDot = true`.\n\n7. If the character is anything else, `return false`.\n\n8. At the end, return `seenDigit`. This is one reason why we have to reset `seenDigit` after seeing an exponent - otherwise an input like `\"21e\"` would be incorrectly judged as valid.\n\n**Implementation**\n\n<iframe src=\"https://leetcode.com/playground/hzjeCPDj/shared\" frameBorder=\"0\" width=\"100%\" height=\"500\" name=\"hzjeCPDj\"></iframe>\n\n*\"One day I will find the right words, and they will be simple.\"* - Jack Kerouac\n\n**Complexity Analysis**\n\n* Time complexity: $$O(N)$$, where $$N$$ is the length of `s`.\n\n   We simply iterate over the input once. The number of operations we perform for each character in the input is _independent_ of the length of the string, and therefore only requires constant time. This results in $$N \\cdot O(1) = O(N)$$.\n\n* Space complexity: $$O(1)$$.\n\n    Regardless of the input size, we only store 3 variables, `seenDigit`, `seenExponent`, and `seenDot`.\n    \n<br/>\n\n---\n\n#### Approach 2: Deterministic Finite Automaton (DFA)\n\n**Intuition**\n\nLet's now view Approach 1 from a different angle. There were 3 boolean variables, and they can be either `true` or `false`. Each time we read a character in the string, we either stayed in the current state (boolean variables stayed the same) or we **transitioned** into a new state (boolean variables changed).\nWhat we've described above is a lot like a  [deterministic finite automaton](https://en.wikipedia.org/wiki/Deterministic_finite_automaton). A DFA is a finite number of states with transition rules to move between them. However, keep in mind that the state depends on more than just those 3 boolean variables; it also depends on whether we have encountered a `+` or `-`. We will discuss this in more detail later.\n\n> **Never heard of a DFA before?** \n>\n> DFA's are useful for solving many problems, including advanced dynamic programming problems such as [1411. Number of Ways to Paint N X 3 Grid](https://leetcode.com/problems/number-of-ways-to-paint-n-3-grid/). So if you're not yet familiar with them, we recommend that you read up on them. It will be worth it!\n>\n> DFAs share a lot of similarities with the trie data structure. Recall that a [trie](https://leetcode.com/explore/learn/card/trie/) is used to represent a dictionary of words, in a space-efficient manner.  To check whether or not a word is in the dictionary, we would simultaneously traverse through the word and the trie. If we end at a node that is marked as a valid end-point, then we would return true. Otherwise, if we get \"stuck\", or end at a node that is not an end-point, we would return false. It's the same for a DFA: we start at a \"root\" node, and then check each character one by one, checking whether or not there is a valid transition we can make. \n>\n> There are a few key differences between DFA's and tries, so keep these in mind while reading through the remainder of this section. \n>\n> 1. While a trie can only represent a _finite_ number of strings (the given dictionary), a DFA can represent an _infinite_ number of different strings. \n> 2. While a trie can only move down the implicit tree, a DFA can essentially \"loopback\" to a higher level, or stay on the same level, or even the same node.\n> 3. A trie is a type of tree, and a DFA is a type of directed graph.\n>\n> Other than that, you can lean on your existing knowledge of tries to wrap your head around this new data structure.\n\n**Algorithm**\n\nThe first step is to design our DFA. Picture the DFA as a directed graph, where each node is a state, and each edge is a transition labeled with a character group (digit, exponent, sign, or dot). There are two key steps to designing it.\n1. Identify all valid combinations that the aforementioned boolean variables can be in. Each combination is a **state**. Draw a circle for each state, and label what it means.\n2. For each **state**, consider what a character from each group would mean in the context of that state. Each group will either cause a **transition** into another state, or it will signify that the string is invalid. For each valid transition, draw a directed arrow between the two states and write the group next to the arrow.\n> **Try this on your own before reading any further!** Take a few minutes and try to design the DFA. Keep in mind that a state can point to itself. For example, with the input `\"12345\"`, if we were to use the first approach, after the first character, none of the boolean variables change, so the state should not change. Therefore, the node should have an edge that points to itself, labeled by \"digit\". Another hint: the start node should have 3 outgoing edges labeled \"digit\", \"sign\", and \"dot\".\n\n<br>\n\n<img src=\"../Figures/65/dfa.png\" width=\"960\">\n\n<br><br>\n\nWith our constructed DFA, our algorithm will be:\n\n1. Initialize the DFA as an array of hash tables. Each hash table's keys will be a character group, and the values will be the state it should transition to. We can use the indexes of the array to handle state transitions. Set the `currentState = 0`.\n\n2. Iterate through the input. For each character, first determine what group it belongs to. Then, check if that group exists in the current state's hash table. If it does, transition to the next state. Otherwise, return `false`.\n\n3. At the end, check if we are currently in a valid end state: 1, 4, or 7.\n\nIf you're having trouble with your implementation, try to go through your DFA with a complicated case such as `-123.456E+789`. Follow along with your designed DFA, and if there is a bug, check which edge case went wrong and adjust the graph accordingly. Once your DFA is correctly designed, the coding part will be less challenging.\n\n**Implementation**\n\n<iframe src=\"https://leetcode.com/playground/REat8LiQ/shared\" frameBorder=\"0\" width=\"100%\" height=\"500\" name=\"REat8LiQ\"></iframe>\n\n\n**Complexity Analysis**\n\n* Time complexity: $$O(N)$$, where $$N$$ is the length of `s`.\n\n   We simply iterate through the input once. The number of operations we perform for each character in the input is _independent_ of the length of the string, and therefore each operation requires constant time. So we get $$N \\cdot O(1) = O(N)$$.\n\n* Space complexity: $$O(1)$$.\n\n    We will construct the same DFA regardless of the input size.\n    \n<br/>\n\n---",
        "contentTypeId": "107",
        "canSeeDetail": true,
        "paidOnly": true,
        "hasVideoSolution": false,
        "paidOnlyVideo": true,
        "rating": {
            "id": "1138",
            "count": 79,
            "average": "4.722",
            "userRating": null,
            "__typename": "RatingNode"
        },
        "__typename": "ArticleNode"
    },
    "questionCode": "valid-number",
    "playgroundData": {
        "hzjeCPDj": {
            "playground": {
                "testcaseInput": "",
                "name": "valid-number-1",
                "isUserOwner": false,
                "isLive": false,
                "showRunCode": false,
                "showOpenInPlayground": false,
                "selectedLangSlug": "cpp",
                "isShared": true,
                "__typename": "PlaygroundNode"
            },
            "allPlaygroundCodes": [
                {
                    "code": "class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        for (int i = 0; i < nums.length; i++) {\n            for (int j = i + 1; j < nums.length; j++) {\n                if (nums[j] == target - nums[i]) {\n                    return new int[] { i, j };\n                }\n            }\n        }\n        // In case there is no solution, we'll just return null\n        return null;\n    }\n}",
                    "langSlug": "java",
                    "__typename": "PlaygroundCodeNode"
                },
                {
                    "code": "class Solution:\n    def twoSum(self, nums: List[int], target: int) -> List[int]:\n        for i in range(len(nums)):\n            for j in range(i + 1, len(nums)):\n                if nums[j] == target - nums[i]:\n                    return [i, j]",
                    "langSlug": "python3",
                    "__typename": "PlaygroundCodeNode"
                }
            ]
        },
        "REat8LiQ": {
            "playground": {
                "testcaseInput": "",
                "name": "valid-number-0",
                "isUserOwner": false,
                "isLive": false,
                "showRunCode": false,
                "showOpenInPlayground": false,
                "selectedLangSlug": "cpp",
                "isShared": true,
                "__typename": "PlaygroundNode"
            },
            "allPlaygroundCodes": [
                {
                    "code": "class Solution {\n    public int[] twoSum(int[] nums, int target) {\n        for (int i = 0; i < nums.length; i++) {\n            for (int j = i + 1; j < nums.length; j++) {\n                if (nums[j] == target - nums[i]) {\n                    return new int[] { i, j };\n                }\n            }\n        }\n        // In case there is no solution, we'll just return null\n        return null;\n    }\n}",
                    "langSlug": "java",
                    "__typename": "PlaygroundCodeNode"
                },
                {
                    "code": "class Solution:\n    def twoSum(self, nums: List[int], target: int) -> List[int]:\n        for i in range(len(nums)):\n            for j in range(i + 1, len(nums)):\n                if nums[j] == target - nums[i]:\n                    return [i, j]",
                    "langSlug": "python3",
                    "__typename": "PlaygroundCodeNode"
                }
            ]
        }
    }
}